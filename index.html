<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>කවුළුව 2016</title>
		<script type="text/javascript" src="./js/jquery-3.1.0.js"></script>
		<script type="text/javascript" src="./js/jquery.media.js"></script>
		<script type="text/javascript" src="./js/bootstrap.js"></script>
		<script type="text/javascript" src="./js/image.js"></script>
		<script type="text/javascript" src="./js/viewer.js"></script>
		<link href="css/bootstrap.css" rel="stylesheet">
		<link href="css/image.css" rel="stylesheet">
		<link href="css/viwer.css" rel="stylesheet">
		<script type="text/javascript">
			$(document).ready(function(){
			     LoadPdfViewer($(".currentKauluwa").data("month"));
			});
			
			function LoadPdfViewer(key)
			{ 
                $.each(news[key], function (i, data) {
                    CreateImage(data.imageUrl, data.thumbnailUrl, data.pageNumber);
                });   
                LoadViewer();
			}
			
			function ClickReport(obj)
			{
                $('#ImageHolder').html('');
				LoadPdfViewer($(obj).data("month"));
			}
            
            function CreateImage(imageUrl, thumbnailUrl, pageNumber)
            {
                var li = $('<li/>');
                var img = $('<img/>', {
                    'data-original': imageUrl,
                    src: thumbnailUrl,
                    alt: pageNumber
                });
                
                li.append(img);
                $('#ImageHolder').append(li);
            }
            
            var news = {};
            
            var june2015 = [];
            june2015.push({imageUrl:"./img/2015Sep01.jpg",thumbnailUrl:"./img/thumbnails/2015Sep01.jpg",pageNumber:"Page No 01"});
            june2015.push({imageUrl:"./img/2015Sep02.jpg",thumbnailUrl:"./img/thumbnails/2015Sep02.jpg",pageNumber:"Page No 02"});
            june2015.push({imageUrl:"./img/2015Sep03.jpg",thumbnailUrl:"./img/thumbnails/2015Sep03.jpg",pageNumber:"Page No 03"});
            june2015.push({imageUrl:"./img/2015Sep04.jpg",thumbnailUrl:"./img/thumbnails/2015Sep04.jpg",pageNumber:"Page No 04"});
            june2015.push({imageUrl:"./img/2015Sep05.jpg",thumbnailUrl:"./img/thumbnails/2015Sep05.jpg",pageNumber:"Page No 05"});
            june2015.push({imageUrl:"./img/2015Sep06.jpg",thumbnailUrl:"./img/thumbnails/2015Sep06.jpg",pageNumber:"Page No 06"});
            june2015.push({imageUrl:"./img/2015Sep07.jpg",thumbnailUrl:"./img/thumbnails/2015Sep07.jpg",pageNumber:"Page No 07"});
            june2015.push({imageUrl:"./img/2015Sep08.jpg",thumbnailUrl:"./img/thumbnails/2015Sep08.jpg",pageNumber:"Page No 08"});
            june2015.push({imageUrl:"./img/2015Sep09.jpg",thumbnailUrl:"./img/thumbnails/2015Sep09.jpg",pageNumber:"Page No 09"});
            june2015.push({imageUrl:"./img/2015Sep10.jpg",thumbnailUrl:"./img/thumbnails/2015Sep10.jpg",pageNumber:"Page No 10"});
            june2015.push({imageUrl:"./img/2015Sep11.jpg",thumbnailUrl:"./img/thumbnails/2015Sep11.jpg",pageNumber:"Page No 11"});
            june2015.push({imageUrl:"./img/2015Sep16.jpg",thumbnailUrl:"./img/thumbnails/2015Sep16.jpg",pageNumber:"Page No 16"});
            
            news["June"] = june2015;
            
            function LoadViewer()
            {
              var Viewer = window.Viewer;
              var console = window.console || { log: function () {} };
              var pictures = document.querySelector('.docs-pictures');
              var toggles = document.querySelector('.docs-toggles');
              var buttons = document.querySelector('.docs-buttons');
              var options = {
                    // inline: true,
                    url: 'data-original',
                    rotatable:false,
                    scalable:false,
                    transition:false,
                    ready:  function (e) {
                      console.log(e.type);
                    },
                    show:  function (e) {
                      console.log(e.type);
                    },
                    shown:  function (e) {
                      console.log(e.type);
                    },
                    hide:  function (e) {
                      console.log(e.type);
                    },
                    hidden:  function (e) {
                      console.log(e.type);
                    },
                    view:  function (e) {
                      console.log(e.type, e.detail.index);
                    },
                    viewed:  function (e) {
                      console.log(e.type, e.detail.index);
                      // this.viewer.zoomTo(1).rotateTo(180);
                    }
                  };
              var viewer;




              function addEventListener(element, type, handler) {
                if (element.addEventListener) {
                  element.addEventListener(type, handler, false);
                } else if (element.attachEvent) {
                  element.attachEvent('on' + type, handler);
                }
              }

              addEventListener(pictures, 'ready', function (e) {
                console.log(e.type);
              });
              addEventListener(pictures, 'show', function (e) {
                console.log(e.type);
              });
              addEventListener(pictures, 'shown', function (e) {
                console.log(e.type);
              });
              addEventListener(pictures, 'hide', function (e) {
                console.log(e.type);
              });
              addEventListener(pictures, 'hidden', function (e) {
                console.log(e.type);
              });
              addEventListener(pictures, 'view', function (e) {
                console.log(e.type, e.detail.index);
              });
              addEventListener(pictures, 'viewed', function (e) {
                console.log(e.type, e.detail.index);
              });
              viewer = new Viewer(pictures, options);
            }
		</script>
	</head>
	<body>
		<div class="container">
			<div style="padding:10px;">
				<div class="text-center">
					<a class="brand">
                <img src="./images/DharmarajaCollege_crest.jpg" width="70" height="100"/>
				</a>
					<h7 style="font-size:30px;">කවුළුව</h1>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-2"></div>
				<div class="col-lg-6">
					<div class="docs-galley">
                      <ul id="ImageHolder" class="docs-pictures clearfix">
                      </ul>
                    </div>
				</div>
				<div class="col-lg-2">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h4>
								<a class="currentKauluwa" onclick="ClickReport(this);" data-month="June">කාලීන පුවත්</a>
							</h4>
						</div>
					</div>
					<div class="panel panel-default">
						<div class="panel-heading">
							<h4>පෙර පුවත්</h4>
						</div>
						<div class="panel-body">
							<ul>
								<li>
									<a onclick="ClickReport(this);" data-month="June">2016 ජුනි කලාපය</a>
								</li>
								<li>
									<a onclick="ClickReport(this);" data-month="June">2016 මෑයි කලාපය</a>
								</li>
								<li>
									<a onclick="ClickReport(this);" data-month="June">2016 අප්‍රේල් කලාපය</a>
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="col-lg-2"></div>
			</div>
		</div>
		<div class="footer">
			<div class="text-center">
				<p>Dharmaraja College Old Boys' Union
					<a href="https://www.facebook.com/rajansobu">@rajansobu</a>2016</p>
			</div>
		</div>
	</body>

</html>